-- MySQL Script generated by MySQL Workbench
-- Thu Jan 31 08:08:29 2019
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema tankstelle
-- -----------------------------------------------------
DROP SCHEMA IF EXISTS `tankstelle` ;

-- -----------------------------------------------------
-- Schema tankstelle
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `tankstelle` DEFAULT CHARACTER SET utf8 ;
USE `tankstelle` ;

-- -----------------------------------------------------
-- Table `tankstelle`.`Kunde`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tankstelle`.`Kunde` ;

CREATE TABLE IF NOT EXISTS `tankstelle`.`Kunde` (
  `Kunde_ID` INT NOT NULL AUTO_INCREMENT,
  `Vorname` VARCHAR(45) NOT NULL,
  `Nachname` VARCHAR(45) NOT NULL,
  `Geburtsdatum` DATE NOT NULL,
  `Strasse` VARCHAR(45) NOT NULL,
  `PLZ` INT NOT NULL,
  `Ort` VARCHAR(45) NOT NULL,
  `Telefon` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`Kunde_ID`))
ENGINE = InnoDB;

CREATE UNIQUE INDEX `Telefon_UNIQUE` ON `tankstelle`.`Kunde` (`Telefon` ASC);


-- -----------------------------------------------------
-- Table `tankstelle`.`Treibstoff`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tankstelle`.`Treibstoff` ;

CREATE TABLE IF NOT EXISTS `tankstelle`.`Treibstoff` (
  `Treibstoff_ID` INT NOT NULL AUTO_INCREMENT,
  `Bezeichnung` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`Treibstoff_ID`))
ENGINE = InnoDB;

CREATE UNIQUE INDEX `Bezeichnung_UNIQUE` ON `tankstelle`.`Treibstoff` (`Bezeichnung` ASC);


-- -----------------------------------------------------
-- Table `tankstelle`.`Verbrauch`
-- -----------------------------------------------------
DROP TABLE IF EXISTS `tankstelle`.`Verbrauch` ;

CREATE TABLE IF NOT EXISTS `tankstelle`.`Verbrauch` (
  `Buchungs_ID` INT NOT NULL AUTO_INCREMENT,
  `Kunde_ID` INT NOT NULL,
  `Buchungsdatum` DATE NOT NULL,
  `Treibstoff_ID` INT NOT NULL,
  `Menge` DOUBLE NOT NULL,
  `Preis` DOUBLE NOT NULL,
  PRIMARY KEY (`Buchungs_ID`),
  CONSTRAINT `fk_Verbrauch_Kunde`
    FOREIGN KEY (`Kunde_ID`)
    REFERENCES `tankstelle`.`Kunde` (`Kunde_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_Verbrauch_Treibstoff1`
    FOREIGN KEY (`Treibstoff_ID`)
    REFERENCES `tankstelle`.`Treibstoff` (`Treibstoff_ID`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;

CREATE INDEX `fk_Verbrauch_Kunde_idx` ON `tankstelle`.`Verbrauch` (`Kunde_ID` ASC);

CREATE INDEX `fk_Verbrauch_Treibstoff1_idx` ON `tankstelle`.`Verbrauch` (`Treibstoff_ID` ASC);


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

-- -----------------------------------------------------
-- Data for table `tankstelle`.`Kunde`
-- -----------------------------------------------------
START TRANSACTION;
USE `tankstelle`;
INSERT INTO `tankstelle`.`Kunde` (`Kunde_ID`, `Vorname`, `Nachname`, `Geburtsdatum`, `Strasse`, `PLZ`, `Ort`, `Telefon`) VALUES (62123, 'Alexander', 'Maier', '1980.08.03', 'Waldeggerstraße 45', 4020, 'Linz', '05-1111-2222');
INSERT INTO `tankstelle`.`Kunde` (`Kunde_ID`, `Vorname`, `Nachname`, `Geburtsdatum`, `Strasse`, `PLZ`, `Ort`, `Telefon`) VALUES (62124, 'Susanne', 'Huber', '1990.02.14', 'Altenbergerstraße 1', 4040, 'Linz', '05-1111-3333');
INSERT INTO `tankstelle`.`Kunde` (`Kunde_ID`, `Vorname`, `Nachname`, `Geburtsdatum`, `Strasse`, `PLZ`, `Ort`, `Telefon`) VALUES (62125, 'Eva', 'Strasser', '1972.11.23', 'Herrenstraße 2', 4320, 'Perg', '07320-2222-33');

COMMIT;


-- -----------------------------------------------------
-- Data for table `tankstelle`.`Treibstoff`
-- -----------------------------------------------------
START TRANSACTION;
USE `tankstelle`;
INSERT INTO `tankstelle`.`Treibstoff` (`Treibstoff_ID`, `Bezeichnung`) VALUES (1, 'Disel');
INSERT INTO `tankstelle`.`Treibstoff` (`Treibstoff_ID`, `Bezeichnung`) VALUES (2, 'Super');
INSERT INTO `tankstelle`.`Treibstoff` (`Treibstoff_ID`, `Bezeichnung`) VALUES (3, 'Super Plus');

COMMIT;


-- -----------------------------------------------------
-- Data for table `tankstelle`.`Verbrauch`
-- -----------------------------------------------------
START TRANSACTION;
USE `tankstelle`;
INSERT INTO `tankstelle`.`Verbrauch` (`Buchungs_ID`, `Kunde_ID`, `Buchungsdatum`, `Treibstoff_ID`, `Menge`, `Preis`) VALUES (47612, 62123, '2018.08.03', 1, 40.50, 55.22);
INSERT INTO `tankstelle`.`Verbrauch` (`Buchungs_ID`, `Kunde_ID`, `Buchungsdatum`, `Treibstoff_ID`, `Menge`, `Preis`) VALUES (47613, 62125, '2018.08.04', 2, 52.40, 61.13);
INSERT INTO `tankstelle`.`Verbrauch` (`Buchungs_ID`, `Kunde_ID`, `Buchungsdatum`, `Treibstoff_ID`, `Menge`, `Preis`) VALUES (47614, 62125, '2018.08.12', 2, 59.30, 68.48);
INSERT INTO `tankstelle`.`Verbrauch` (`Buchungs_ID`, `Kunde_ID`, `Buchungsdatum`, `Treibstoff_ID`, `Menge`, `Preis`) VALUES (47615, 62124, '2018.08.14', 1, 37.20, 44.71);
INSERT INTO `tankstelle`.`Verbrauch` (`Buchungs_ID`, `Kunde_ID`, `Buchungsdatum`, `Treibstoff_ID`, `Menge`, `Preis`) VALUES (47616, 62123, '2018.08.15', 1, 42.90, 57.89);
INSERT INTO `tankstelle`.`Verbrauch` (`Buchungs_ID`, `Kunde_ID`, `Buchungsdatum`, `Treibstoff_ID`, `Menge`, `Preis`) VALUES (47617, 62125, '2018.08.22', 2, 32.70, 39.95);
INSERT INTO `tankstelle`.`Verbrauch` (`Buchungs_ID`, `Kunde_ID`, `Buchungsdatum`, `Treibstoff_ID`, `Menge`, `Preis`) VALUES (47618, 62124, '2018.08.23', 1, 40.80, 47.23);
INSERT INTO `tankstelle`.`Verbrauch` (`Buchungs_ID`, `Kunde_ID`, `Buchungsdatum`, `Treibstoff_ID`, `Menge`, `Preis`) VALUES (47619, 62123, '2018.08.28', 1, 38.40, 45.12);
INSERT INTO `tankstelle`.`Verbrauch` (`Buchungs_ID`, `Kunde_ID`, `Buchungsdatum`, `Treibstoff_ID`, `Menge`, `Preis`) VALUES (47620, 62125, '2018.08.31', 2, 60.20, 75.47);

COMMIT;

